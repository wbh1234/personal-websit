<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
//    var obj ={
//        name :"zhangsan",
//        age : 18
//    };
//
//    var str = JSON.stringify(obj);//对象转化成字符串
//    console.log(str);
//
//    var obj2 =JSON.parse(str);//字符串转化为对象
//    console.log(obj2);
//
    var obj1= {
        name : "zhangsan",
        age : 18,
        father:{
            name:"wangbaba",
            age:56
        }
    };

//    var obj3 = obj1;
//    obj1.name = "lisi";
//    console.log(obj3);
//    var obj3 = new Object();
//    obj3.name = obj1.name;
//    obj3.age = obj1.age;

//    obj1.name = "lisi";
//    console.log(obj2.name);
    var obj4= clone(obj1);
    obj1.father.name ="lisi";
    console.log(obj4.father.name);

    function clone(obj){
        var newObj = {};
        for(var p in obj){
//            console.log(obj[p]);
            if(typeof obj[p]=="object"){
                newObj[p] = clone(obj[p]);
            }else{
                newObj[p] = obj[p];
            }
        }
        return newObj;
    }
    var str=JSON.stringify(obj1);//JSON有兼容性
    var obj3=JSON.parse(str);
    obj1.father.name="xx";
    console.log(obj3);
</script>

</body>
</html>